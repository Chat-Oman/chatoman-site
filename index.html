<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatOman | Interactive Pricing Plans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Added Tajawal font for Arabic text -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Harmony - A warm neutral neutral palette (Stone) with a professional Teal accent for calls to action and highlights. -->
    <!-- Application Structure Plan: The SPA is designed as a conversion-focused landing page. It starts with a Hero section to establish value, followed by the core "Interactive Calculator" to engage users personally. A "Visual Comparison" chart provides a quick, data-driven overview. New "Detailed Pricing Overview" sections present comprehensive monthly, yearly, and setup fee tables. "Feature Explanations" and "Plan Suitability" sections educate the user and help them self-qualify. This structure guides the user from awareness to consideration and finally to a decision, ending with a clear CTA. This is more effective than a static table as it involves the user in the discovery process. -->
    <!-- Visualization & Content Choices: 1. Pricing Tiers -> Interactive Calculator (HTML/JS) -> Goal: Allow users to create a custom quote, making the price feel tangible and personalized. Interaction: Radio buttons for base plans and checkboxes for add-ons dynamically update the total. Justification: Increases engagement and ownership over the selection process. 2. Price vs. Credits -> Doughnut Charts (HTML/JS Canvas) -> Goal: Visually compare the feature distribution of each plan. Interaction: Static visual for quick comparison. Justification: Doughnut charts are excellent for showing parts of a whole, making it easy to see the focus of each plan. 3. Detailed Pricing Tables -> Static HTML Tables with Tailwind -> Goal: Provide comprehensive, at-a- glance information for all pricing structures (monthly, yearly, setup). Interaction: None, purely informational. Justification: Caters to users who prefer detailed tabular data for direct comparison. 4. Feature Details -> Accordion (HTML/JS) -> Goal: Explain technical terms simply without cluttering the UI. Interaction: Click to reveal. Justification: Progressive disclosure makes information more digestible for non-tech-savvy users. 5. FAQ Content Generator -> Text Input & Button with LLM Call (HTML/JS with Gemini API) -> Goal: Demonstrate the practical application of AI chatbots by generating example FAQ content, helping potential clients visualize the initial setup. Interaction: User inputs business type, clicks button, and receives AI-generated FAQs. Justification: Directly showcases the value proposition of a chatbot service and reduces a common friction point in chatbot adoption (content creation). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* Add padding to the bottom of the body to prevent content from being hidden behind the sticky button */
            padding-bottom: 80px; /* Adjust as needed based on button height + margin */
        }
        /* Custom font family for Arabic text */
        .font-tajawal {
            font-family: 'Tajawal', sans-serif;
        }
        .plan-card { transition: all 0.3s ease-in-out; }
        .plan-card.selected { border-color: #0d9488; box-shadow: 0 10px 15px -3px rgb(13 148 136 / 0.1), 0 4px 6px -4px rgb(13 148 136 / 0.1); transform: translateY(-5px); }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.3s ease-out; }
        /* Table specific styles for better readability */
        .table-auto { border-collapse: collapse; width: 100%; }
        .table-auto th, .table-auto td { padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0; } /* stone-200 */
        .table-auto th { background-color: #f8fafc; font-weight: 600; text-transform: uppercase; font-size: 0.875rem; } /* slate-50 */
        .table-auto tbody tr:last-child td { border-bottom: none; }
        /* Sticky button styles for mobile (centered) */
        .sticky-get-started {
            left: 50%;
            transform: translateX(-50%);
            width: calc(100% - 2rem); /* Full width minus padding */
            max-width: 300px; /* Limit width on larger mobiles */
        }
        /* Sticky button styles for desktop (bottom-left) */
        @media (min-width: 768px) {
            .sticky-get-started {
                left: 2rem; /* Adjusted to left: 2rem */
                right: auto; /* Removed right positioning */
                transform: none;
                width: auto;
                max-width: none;
            }
        }
        /* How It Works Card Hover Effect */
        .how-it-works-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .how-it-works-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
        }
        /* Why ChatOman Card Styling */
        .why-chatoman-card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .why-chatoman-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.05);
        }
        /* Toggle Switch Styling */
        .toggle-switch {
            display: flex;
            background-color: #e2e8f0; /* stone-200 */
            border-radius: 9999px;
            padding: 4px;
            width: 200px;
            margin: 0 auto 2rem auto;
            position: relative;
        }
        .toggle-switch button {
            flex: 1;
            padding: 8px 16px;
            border-radius: 9999px;
            font-weight: 600;
            transition: all 0.3s ease;
            background-color: transparent;
            color: #4b5563; /* stone-600 */
            border: none;
            cursor: pointer;
            position: relative;
            z-index: 1;
        }
        .toggle-switch button.active {
            color: #ffffff;
        }
        .toggle-switch .slider {
            position: absolute;
            top: 4px;
            left: 4px;
            height: calc(100% - 8px);
            width: calc(50% - 4px);
            background-color: #0d9488; /* teal-600 */
            border-radius: 9999px;
            transition: all 0.3s ease;
            z-index: 0;
        }
        .toggle-switch .slider.yearly {
            transform: translateX(100%);
        }
        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 500px;
            position: relative;
            transform: translateY(-20px);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .modal-overlay.show .modal-content {
            transform: translateY(0);
            opacity: 1;
        }
        .modal-close-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #4b5563; /* stone-600 */
        }
        /* Custom styles for doughnut charts */
        .doughnut-chart-canvas {
            width: 120px; /* Fixed size for the doughnut chart */
            height: 120px;
        }
        .shared-pie-legend {
            display: flex;
            flex-wrap: wrap; /* Allow wrapping on small screens */
            justify-content: center;
            margin-top: 1.5rem; /* Increased margin for separation */
            font-size: 0.875rem; /* text-sm */
            color: #4b5563; /* stone-600 */
        }
        .pie-legend-item {
            display: flex;
            align-items: center;
            margin: 0 0.75rem; /* Increased margin for spacing */
        }
        .pie-legend-color {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 0.25rem;
        }
        /* Responsive stacking for stat cards */
        @media (max-width: 479px) { /* Screens less than 480px */
            #doughnut-charts-wrapper {
                flex-direction: column;
            }
            .flex-1 { /* Target individual cards */
                width: 100%; /* Take full width */
                margin-bottom: 1rem; /* Add vertical spacing */
            }
            .flex-1:last-child {
                margin-bottom: 0; /* No margin after the last card */
            }
            .flex-1 h5, .flex-1 .doughnut-chart-canvas, .flex-1 ul {
                text-align: center; /* Center align content within stacked cards */
                margin-left: auto;
                margin-right: auto;
            }
            .flex-1 ul {
                padding-left: 0; /* Remove default ul padding */
            }
            .flex-1 ul li {
                justify-content: center; /* Center dot bullets and text */
            }
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">

        <!-- Hero Banner Section Start -->
        <section id="hero-banner" class="text-center py-16 px-4 rounded-2xl mb-16" style="background-color: #f1f1f2;">
            <h1 class="text-4xl md:text-5xl font-bold mb-2" style="color: #070909;">
                Smart Bilingual Chatbots for Omani Businesses
                <br>
                <span class="font-tajawal font-normal text-3xl md:text-4xl mt-2 block">روبوتات دردشة ذكية ثنائية اللغة للشركات العُمانية</span>
            </h1>
            <p class="text-lg md:text-xl text-stone-700 max-w-3xl mx-auto mb-6">
                Instantly answer customer questions, show menus and services, and handle bookings — in Arabic and English.
                <br>
                <span class="font-tajawal font-normal text-base md:text-lg">الرد الفوري على استفسارات العملاء، عرض القوائم والخدمات، وإدارة الحجوزات – بالعربية والإنجليزية</span>
            </p>
            <p class="text-md text-stone-600 max-w-2xl mx-auto mb-8">
                ChatOman builds AI chatbots that save time, provide 24/7 customer support, and help your business grow.
                <br>
                <span class="font-tajawal font-normal text-sm">تشات عُمان تصمّم روبوتات دردشة تعمل بالذكاء الاصطناعي لتوفير الوقت، ودعم العملاء على مدار الساعة، ومساعدة عملك على النمو</span>
            </p>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-10 text-stone-700">
                <div class="p-4 bg-white rounded-lg shadow-sm">
                    <span class="text-4xl block mb-1">🍽️</span> <!-- Reduced mb-2 to mb-1 -->
                    <h3 class="font-semibold text-lg">Restaurants & Cafés</h3>
                    <p class="text-sm">Share menu, guide customers to order links, handle FAQs</p>
                    <p class="text-sm font-tajawal">عرض القائمة، توجيه العملاء لروابط الطلب، الرد على الأسئلة الشائعة</p>
                </div>
                <div class="p-4 bg-white rounded-lg shadow-sm">
                    <span class="text-4xl block mb-1">🛍️</span> <!-- Reduced mb-2 to mb-1 -->
                    <h3 class="font-semibold text-lg">Retail Stores</h3>
                    <p class="text-sm">Answer product questions, show locations, guide to offers</p>
                    <p class="text-sm font-tajawal">الرد على استفسارات المنتجات، عرض المواقع، وتوجيههم للعروض المتاحة</p>
                </div>
                <div class="p-4 bg-white rounded-lg shadow-sm">
                    <span class="text-4xl block mb-1">🏥</span> <!-- Reduced mb-2 to mb-1 -->
                    <h3 class="font-semibold text-lg">Clinics & Salons</h3>
                    <p class="text-sm">Assist with booking questions, explain services, answer common questions</p>
                    <p class="text-sm font-tajawal">المساعدة في أسئلة الحجوزات، شرح الخدمات، والإجابة على الاستفسارات المتكررة</p>
                </div>
            </div>

            <button id="hero-get-started-btn" class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-full shadow-sm text-white transition-colors mt-8" style="background-color: #12bfb4; hover-bg-color: #0e9a8f;">
                See How It Works | شاهد كيف يعمل
            </button>
        </section>
        <!-- Hero Banner Section End -->

        <main>
            <!-- How It Works Section Start -->
            <section id="how-it-works" class="mb-20 text-center">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold">How It Works | كيف يعمل</h2>
                    <p class="mt-2 text-md text-stone-600">Getting started with ChatOman is simple and straightforward</p>
                    <p class="font-tajawal text-md text-stone-600">البدء مع تشات عُمان سهل ومباشر</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto">
                    <!-- Step 1 -->
                    <div class="how-it-works-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center">
                        <span class="text-5xl mb-4">📝</span> <!-- Icon -->
                        <h3 class="font-semibold text-lg mb-2">Step 1: Submit Your Info</h3>
                        <h3 class="font-tajawal font-semibold text-lg mb-2">الخطوة ١: أرسل معلوماتك</h3>
                        <p class="text-sm text-stone-600">Fill out our simple onboarding form with your business details</p>
                        <p class="text-sm font-tajawal text-stone-600">املأ نموذج التسجيل بمعلومات عملك</p>
                    </div>
                    <!-- Step 2 -->
                    <div class="how-it-works-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center">
                        <span class="text-5xl mb-4">🤖</span> <!-- Icon -->
                        <h3 class="font-semibold text-lg mb-2">Step 2: We Build Your Chatbot</h3>
                        <h3 class="font-tajawal font-semibold text-lg mb-2">الخطوة ٢: نقوم ببناء روبوت الدردشة</h3>
                        <p class="text-sm text-stone-600">Our team creates a custom chatbot in English and Arabic using your content</p>
                        <p class="text-sm font-tajawal text-stone-600">نقوم ببناء روبوت دردشة مخصص بلغتين باستخدام محتوى عملك</p>
                    </div>
                    <!-- Step 3 -->
                    <div class="how-it-works-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center">
                        <span class="text-5xl mb-4">✅</span> <!-- Icon -->
                        <h3 class="font-semibold text-lg mb-2">Step 3: Test & Approve</h3>
                        <h3 class="font-tajawal font-semibold text-lg mb-2">الخطوة ٣: جرب ووافق</h3>
                        <p class="text-sm text-stone-600">You preview the chatbot, give feedback, and request edits if needed</p>
                        <p class="text-sm font-tajawal text-stone-600">جرب الروبوت، وأرسل ملاحظاتك، واطلب التعديلات إن وجدت</p>
                    </div>
                    <!-- Step 4 -->
                    <div class="how-it-works-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center">
                        <span class="text-5xl mb-4">🚀</span> <!-- Icon -->
                        <h3 class="font-semibold text-lg mb-2">Step 4: Go Live on Your Website</h3>
                        <h3 class="font-tajawal font-semibold text-lg mb-2">الخطوة ٤: أطلقه على موقعك</h3>
                        <p class="text-sm text-stone-600">We connect the chatbot to your site and you’re ready to go!</p>
                        <p class="text-sm font-tajawal text-stone-600">نقوم بربط الروبوت بموقعك الإلكتروني — وانطلق</p>
                    </div>
                </div>

                <button id="how-it-works-get-started-btn" class="inline-flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-full shadow-sm text-white transition-colors mt-12" style="background-color: #12bfb4; hover-bg-color: #0e9a8f;">
                    Get Started | ابدأ الآن
                </button>
            </section>
            <!-- How It Works Section End -->

            <!-- Why ChatOman Section Start -->
            <section id="why-chatoman" class="py-16 px-4 rounded-2xl mb-16" style="background-color: #f8fafc;">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold">Why ChatOman? | لماذا تشات عمان؟</h2>
                    <p class="mt-2 text-md text-stone-600">What makes our service unique and trusted by local businesses</p>
                    <p class="font-tajawal text-md text-stone-600">ما الذي يجعل خدمتنا مميزة وموثوقة من قبل الشركات المحلية؟</p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 max-w-6xl mx-auto">
                    <!-- Card 1: Locally Trained AI -->
                    <div class="why-chatoman-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center text-center">
                        <span class="text-5xl mb-4">🧠</span>
                        <h3 class="font-semibold text-lg mb-2">Locally Trained AI</h3>
                        <p class="text-sm text-stone-600">Our chatbots understand local business needs and speak Arabic and English fluently</p>
                        <p class="text-sm font-tajawal text-stone-600">روبوتاتنا مدرّبة لفهم احتياجات السوق المحلي، وتتحدث العربية والإنجليزية بطلاقة</p>
                    </div>
                    <!-- Card 2: Human Touch Setup -->
                    <div class="why-chatoman-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center text-center">
                        <span class="text-5xl mb-4">🤝</span>
                        <h3 class="font-semibold text-lg mb-2">Human Touch Setup</h3>
                        <p class="text-sm text-stone-600">We personally train every chatbot based on your info – no templates</p>
                        <p class="text-sm font-tajawal text-stone-600">نقوم بتدريب كل روبوت يدويًا باستخدام معلومات عملك – بدون قوالب جاهزة</p>
                    </div>
                    <!-- Card 3: Mobile-Friendly + Easy to Use -->
                    <div class="why-chatoman-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center text-center">
                        <span class="text-5xl mb-4">📱</span>
                        <h3 class="font-semibold text-lg mb-2">Mobile-Friendly + Easy to Use</h3>
                        <p class="text-sm text-stone-600">Works great on websites and phones, no app needed</p>
                        <p class="text-sm font-tajawal text-stone-600">يعمل بسلاسة على المواقع والهواتف، بدون الحاجة لتطبيق</p>
                    </div>
                    <!-- Card 4: Performance Tracking & Updates -->
                    <div class="why-chatoman-card bg-white p-6 rounded-2xl shadow-md flex flex-col items-center text-center">
                        <span class="text-5xl mb-4">📊</span>
                        <h3 class="font-semibold text-lg mb-2">Performance Tracking & Updates</h3>
                        <p class="text-sm text-stone-600">We monitor performance and update your chatbot regularly to keep it effective</p>
                        <p class="text-sm font-tajawal text-stone-600">نراقب أداء الروبوت ونقوم بتحديثه باستمرار ليبقى فعّالًا وحديثًا</p>
                    </div>
                </div>
            </section>
            <!-- Why ChatOman Section End -->

            <section id="calculator" class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold">Find Your Perfect Plan | اختر خطتك المثالية</h2>
                    <p class="mt-2 text-md text-stone-600">Start by selecting a base plan, then add any extras you need. Your total updates instantly</p>
                    <p class="font-tajawal text-md text-stone-600">ابدأ باختيار الخطة الأساسية، ثم أضف أي إضافات تحتاجها. سيتحدث الإجمالي فورًا</p>
                </div>

                <!-- Monthly/Yearly Toggle -->
                <div class="toggle-switch">
                    <div id="toggle-slider" class="slider"></div>
                    <button id="monthly-toggle" class="active">Monthly | شهريًا</button>
                    <button id="yearly-toggle">Yearly | سنويًا</button>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                    <div id="plan-selection" class="lg:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-6">
                        <!-- Plan cards will be dynamically inserted here by JavaScript -->
                    </div>

                    <div class="lg:col-span-1 bg-white p-6 rounded-2xl shadow-lg sticky top-8">
                        <h3 class="text-xl font-bold border-b pb-3 mb-4">Add-ons | الإضافات</h3>
                        <!-- New text link for feature explanations -->
                        <p class="text-sm text-right mb-4">
                            <a href="#features" class="text-teal-700 hover:underline text-sm" style="color: #008080;">
                                Need more details? View full feature explanations
                                <br>
                                <span class="font-tajawal">هل تحتاج إلى مزيد من التفاصيل؟ شاهد شرح الميزات الكامل</span>
                            </a>
                        </p>
                        <div id="addons-selection" class="space-y-4 mb-6">
                        </div>
                        <div class="bg-teal-50 border-t border-teal-200 mt-6 pt-4 rounded-b-xl -mx-6 -mb-6 px-6 pb-6">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-stone-600">One-time Setup Fee: | رسوم الإعداد لمرة واحدة:</span>
                                <span id="setup-fee-display" class="font-bold text-lg">0 OMR</span>
                            </div>
                            <div class="flex justify-between items-center text-2xl font-bold">
                                <span class="text-teal-800">Monthly Total: | الإجمالي الشهري:</span>
                                <span id="total-price-display" class="text-teal-600">0 OMR</span>
                            </div>
                            <!-- Original Get Started button -->
                            <button id="get-started-btn-static" class="w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg mt-6 hover:bg-teal-700 transition-colors">
                                Get Started | ابدأ الآن
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Removed the "Visual Comparison" section -->

            <section id="features" class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold">Understanding The Features | فهم الميزات</h2>
                    <p class="mt-2 text-md text-stone-600">Here's what our key features mean for your business</p>
                    <p class="font-tajawal text-md text-stone-600">إليك ما تعنيه ميزاتنا الرئيسية لعملك</p>
                </div>
                <div id="accordion-container" class="max-w-3xl mx-auto space-y-4">
                </div>
            </section>

            <!-- New LLM-powered section -->
            <section id="faq-generator" class="mb-20">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold">Generate ✨ Suggested FAQs to Train Your Chatbot | أنشئ أسئلة شائعة مقترحة لتدريب روبوت الدردشة الخاص بك</h2>
                    <p class="mt-2 text-md text-stone-600">Not sure what your bot should say? Enter your business type below, and our built-in AI will suggest example FAQs you can include in your sign-up form. We'll use these to train your custom chatbot for your business</p>
                    <p class="font-tajawal text-md text-stone-600">لست متأكدًا مما يجب أن يقوله روبوتك؟ أدخل نوع عملك أدناه، وسيقترح الذكاء الاصطناعي المدمج لدينا أمثلة للأسئلة الشائعة التي يمكنك تضمينها في نموذج التسجيل الخاص بك. سنستخدم هذه لتدريب روبوت الدردشة المخصص لعملك</p>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg max-w-xl mx-auto">
                    <div class="mb-4">
                        <label for="business-type-input" class="block text-stone-700 text-sm font-bold mb-2">Your Business Type (e.g., "Cafe", "Clinic", "Retail Shop"): | نوع عملك (على سبيل المثال، "مقهى"، "عيادة"، "متجر بيع بالتجزئة"):</label>
                        <input type="text" id="business-type-input" placeholder="e.g., Restaurant" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-stone-700 leading-tight focus:outline-none focus:shadow-outline focus:border-teal-500 transition-colors">
                    </div>
                    <button id="generate-faq-btn" class="w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-teal-700 transition-colors flex items-center justify-center">
                        Generate ✨ Suggested FAQs | أنشئ أسئلة شائعة مقترحة
                    </button>
                    <div id="faq-loading-indicator" class="mt-4 text-center text-teal-600 hidden">
                        Generating FAQs... | جاري إنشاء الأسئلة الشائعة...
                    </div>
                    <div id="generated-faqs" class="mt-6 p-4 bg-stone-50 rounded-lg border border-stone-200 min-h-[100px] text-stone-700 whitespace-pre-wrap">
                        Your generated FAQs will appear here | ستظهر الأسئلة الشائعة التي تم إنشاؤها هنا
                    </div>
                </div>
            </section>
            <!-- End New LLM-powered section -->

            <section id="suitability" class="text-center">
                 <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold">Who Is This For? | لمن هذه الخدمة؟</h2>
                    <p class="mt-2 text-md text-stone-600">We've designed our plans to match the needs of local businesses</p>
                    <p class="font-tajawal text-md text-stone-600">لقد صممنا خططنا لتناسب احتياجات الشركات المحلية</p>
                </div>
                 <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white p-6 rounded-2xl shadow-md">
                        <h3 class="font-bold text-teal-700 text-lg">Starter | المبتدئ</h3>
                        <p class="text-stone-600 mt-2">Perfect for small Instagram shops and startups who need a simple, automated way to answer common questions</p>
                        <p class="font-tajawal text-stone-600 mt-2">مثالي للمتاجر الصغيرة على انستغرام والشركات الناشئة التي تحتاج إلى طريقة بسيطة ومؤتمتة للإجابة على الأسئلة الشائعة</p>
                    </div>
                     <div class="bg-white p-6 rounded-2xl shadow-md">
                        <h3 class="font-bold text-teal-700 text-lg">Pro | المحترف</h3>
                        <p class="text-stone-600 mt-2">Ideal for physical stores like cafes, clinics, and mid-sized retail that handle frequent inquiries about appointments, menus, or services</p>
                        <p class="font-tajawal text-stone-600 mt-2">مثالي للمتاجر الفعلية مثل المقاهي والعيادات ومتاجر التجزئة متوسطة الحجم التي تتعامل مع الاستفسارات المتكررة حول المواعيد أو القوائم أو الخدمات</p>
                    </div>
                     <div class="bg-white p-6 rounded-2xl shadow-md">
                        <h3 class="font-bold text-teal-700 text-lg">Elite | النخبة</h3>
                        <p class="text-stone-600 mt-2">The ultimate solution for hotels, medical facilities, and multi-location brands that require professional, branded, high-volume support</p>
                        <p class="font-tajawal text-stone-600 mt-2">الحل الأمثل للفنادق والمرافق الطبية والعلامات التجارية متعددة المواقع التي تتطلب دعمًا احترافيًا ومخصصًا وذا حجم كبير</p>
                    </div >
                </div >
            </section>

            <!-- Contact Us Section -->
            <section id="contact-us" class="text-center mt-20 mb-12">
                <div class="bg-white p-6 rounded-2xl shadow-lg max-w-xl mx-auto">
                    <h2 class="text-3xl font-bold text-teal-700 mb-4">Contact Us | اتصل بنا</h2>
                    <p class="text-lg text-stone-600 mb-2">
                        Instagram: <a href="https://www.instagram.com/chatoman.co?igsh=MWd5Z3g5NDNmYjBlbQ%3D%3D&utm_source=qr" target="_blank" rel="noopener noreferrer" class="text-teal-600 hover:underline">@chatoman.co</a>
                    </p>
                    <p class="text-lg text-stone-600">
                        Email: <a href="mailto:info@chatoman.co" class="text-teal-600 hover:underline">info@chatoman.co</a>
                    </p>
                </div>
            </section>

        </main>

        <footer class="text-center mt-20 border-t pt-8">
            <p class="text-stone-600">&copy; 2025 ChatOman. All rights reserved</p>
            <p class="text-sm text-stone-500 mt-2">
                <a href="https://drive.google.com/file/d/1SAvfegTPfldVI6_paFjiljJFgmBLA3lv/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="text-stone-500 hover:underline px-2">Terms of Service | شروط الخدمة</a> | 
                <a href="https://drive.google.com/file/d/1SIblYVGlIoIclA454ZtvmXwR4esFlllV/view?usp=sharing" target="_blank" rel="noopener noreferrer" class="text-stone-500 hover:underline px-2">Privacy Policy | سياسة الخصوصية</a>
            </p>
            <p class="text-sm text-stone-500 mt-2">Bilingual AI Chatbots for Omani Businesses. info@chatoman.co | روبوتات دردشة ذكية ثنائية اللغة للشركات العُمانية. info@chatoman.co</p>
        </footer>

    </div>

    <!-- Modal for Feature Explanations -->
    <div id="feature-modal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close-button" id="modal-close-button">&times;</button>
            <h3 id="modal-title" class="text-xl font-bold mb-4"></h3>
            <p id="modal-content" class="text-stone-700"></p>
        </div>
    </div>

    <!-- Sticky Get Started Button -->
    <div id="sticky-get-started" class="fixed bottom-4 z-50 rounded-lg shadow-lg bg-teal-600 hover:bg-teal-700 transition-colors p-3 text-white font-bold text-center sticky-get-started">
        <button class="w-full h-full">Get Started | ابدأ الآن</button>
    </div>


    <script>
        const plans = [
            { id: 'starter', name: 'Starter', priceOMR: 25, yearlyPriceOMR: 275, credits: 1000, agents: 1, setupFeeMonthly: 0, setupFeeAnnual: 0, brandingRemoved: false, customDomain: false, arabicName: 'المبتدئ', arabicBestFor: 'للمتاجر الصغيرة على انستغرام، الشركات الناشئة', arabicFeatures: { credits: 'رسالة', agents: 'وكيل ذكاء اصطناعي', brandingRemoved: 'إزالة العلامة التجارية', customDomain: 'نطاق مخصص' }, basicFaqSupport: true, responseUpdates: '2x/month', chatUpdatesWeekly: false, lightCustomization: false, fullPersonalization: false, dedicatedChatbotManager: false, yearlySavings: 25 },
            { id: 'pro', name: 'Pro', priceOMR: 45, yearlyPriceOMR: 495, credits: 2000, agents: 1, setupFeeMonthly: 15, setupFeeAnnual: 0, brandingRemoved: false, customDomain: false, arabicName: 'المحترف', arabicBestFor: 'للمقاهي، العيادات، متاجر التجزئة متوسطة الحجم', arabicFeatures: { credits: 'رسالة', agents: 'وكيل ذكاء اصطناعي', brandingRemoved: 'إزالة العلامة التجارية', customDomain: 'نطاق مخصص' }, basicFaqSupport: true, responseUpdates: '2x/month', chatUpdatesWeekly: true, lightCustomization: true, fullPersonalization: false, dedicatedChatbotManager: false, yearlySavings: 45 },
            { id: 'elite', name: 'Elite', priceOMR: 90, yearlyPriceOMR: 1000, credits: 3000, agents: 2, setupFeeMonthly: 25, setupFeeAnnual: 0, brandingRemoved: true, customDomain: true, arabicName: 'النخبة', arabicBestFor: 'للفنادق، المرافق الطبية، العلامات التجارية متعددة المواقع', arabicFeatures: { credits: 'رسالة', agents: 'وكيل ذكاء اصطناعي', brandingRemoved: 'إزالة العلامة التجارية', customDomain: 'نطاق مخصص' }, basicFaqSupport: true, responseUpdates: '2x/month', chatUpdatesWeekly: true, lightCustomization: true, fullPersonalization: true, dedicatedChatbotManager: false, yearlySavings: 80 }
        ];

        const addOns = [
            { id: 'extraCredits', name: 'Extra 1,000 Messages', priceOMR: 8, arabicName: '1,000 رسالة إضافية', featureExplanationTitle: 'Message Credits' },
            { id: 'brandingRemoval', name: 'Branding Removal', priceOMR: 25, arabicName: 'إزالة العلامة التجارية', featureExplanationTitle: 'Branding Removed' },
            { id: 'customDomain', name: 'Custom Domain', priceOMR: 35, arabicName: 'نطاق مخصص', featureExplanationTitle: 'Custom Domain' },
            { id: 'whatsappIntegration', name: 'WhatsApp Integration', priceOMR: 25, arabicName: 'تكامل واتساب', featureExplanationTitle: 'WhatsApp Integration' },
            { id: 'performanceReport', name: 'Performance Report', priceOMR: 10, arabicName: 'تقرير الأداء', featureExplanationTitle: 'Performance Report' },
            { id: 'extraAIAgent', name: 'Extra AI Agent', priceOMR: 9, arabicName: 'وكيل ذكاء اصطناعي إضافي', featureExplanationTitle: 'AI Agents' },
            // New bundle add-ons
            { id: 'proInsightsPack', name: 'Pro Insights Pack', priceOMR: 30, arabicName: 'حزمة رؤى المحترفين', featureExplanationTitle: 'Pro Insights Pack' },
            { id: 'eliteBrandScaleKit', name: 'Elite Brand & Scale Kit', priceOMR: 55, arabicName: 'حزمة النخبة للعلامة التجارية والتوسع', featureExplanationTitle: 'Elite Brand & Scale Kit' }
        ];

        const featureExplanations = [
            { title: 'Message Credits', content: 'Each time the AI chatbot sends a reply to a user, it consumes one message credit. Our plans come with a monthly allowance, and you can add more if needed. Unused credits do not roll over.', arabicContent: 'كل مرة يرد فيها روبوت الدردشة على المستخدم، يتم استخدام رصيد واحد. تأتي خططنا مع رصيد شهري، ويمكنك إضافة المزيد إذا لزم الأمر. الأرصدة غير المستخدمة لا ترحل للشهر التالي' },
            { title: 'AI Agents', content: 'An AI Agent is like a distinct chatbot with its own unique knowledge base and personality. You might use one agent for customer support and a separate one for sales inquiries, each trained on different information.', arabicContent: 'الوكيل الذكي هو روبوت دردشة منفصل بقاعدة معرفة وشخصية فريدة خاصة به. يمكنك استخدام وكيل واحد لدعم العملاء وآخر منفصل لاستفسارات المبيعات، وكل منهما مدرب على معلومات مختلفة' },
            { title: 'Branding Removed', content: 'By default, the chatbot footer includes a "Powered by Chatbase" message. This feature removes it, providing a completely white-label experience that looks like a native part of your website.', arabicContent: 'بشكل افتراضي، يتضمن تذييل روبوت الدردشة رسالة "مدعوم من Chatbase". تزيل هذه الميزة هذه الرسالة، مما يوفر تجربة بيضاء بالكامل تبدو وكأنها جزء أصيل من موقعك الإلكتروني' },
            { title: 'Custom Domain', content: 'Instead of a generic link, your chatbot can live on a subdomain of your website (e.g., bot.yourbusiness.com). This enhances professionalism and trust with your customers.', arabicContent: 'بدلاً من الرابط العام، يمكن لروبوت الدردشة الخاص بك أن يتواجد على نطاق فرعي لموقعك الإلكتروني (مثال: bot.yourbusiness.com). هذا يعزز الاحترافية والثقة مع عملائك' },
            { title: 'Basic FAQ Support', content: 'This includes initial setup of fundamental FAQs based on your provided information, ensuring your chatbot can answer common customer questions right away.', arabicContent: 'يتضمن ذلك الإعداد الأولي للأسئلة الشائعة الأساسية بناءً على المعلومات التي تقدمها، مما يضمن أن روبوت الدردشة الخاص بك يمكنه الإجابة على أسئلة العملاء الشائعة فورًا' },
            { title: 'Response Updates 2x/month', content: 'We\'ll review and update your chatbot\'s responses twice a month to ensure accuracy and relevance, keeping your bot\'s information fresh.', arabicContent: 'سنقوم بمراجعة وتحديث ردود روبوت الدردشة الخاص بك مرتين شهريًا لضمان الدقة والأهمية، مما يحافظ على تحديث معلومات الروبوت الخاص بك' },
            { title: 'Chat Updates Weekly', content: 'For businesses with more dynamic needs, we provide weekly reviews and updates to your chatbot\'s chat flows and responses, ensuring it stays current with your offerings.', arabicContent: 'للشركات ذات الاحتياجات الأكثر ديناميكية، نقدم مراجعات وتحديثات أسبوعية لتدفقات الدردشة وردود روبوت الدردشة الخاص بك، مما يضمن بقاءه محدثًا مع عروضك' },
            { title: 'Light Customization, FAQ + Flow', content: 'Beyond basic FAQs, this includes light customization of your chatbot\'s personality and basic conversational flows to guide users through common interactions.', arabicContent: 'بالإضافة إلى الأسئلة الشائعة الأساسية، يتضمن ذلك تخصيصًا خفيفًا لشخصية روبوت الدردشة الخاص بك وتدفقات محادثة أساسية لتوجيه المستخدمين خلال التفاعلات الشائعة' },
            { title: 'Full Personalization', content: 'Our Elite plan offers comprehensive personalization, which includes deep customization of your chatbot\'s persona, advanced conversational flows, regular performance reviews, and dedicated updates to ensure it perfectly aligns with your business goals.', arabicContent: 'تقدم خطة النخبة لدينا تخصيصًا شاملاً، والذي يتضمن تخصيصًا عميقًا لشخصية روبوت الدردشة الخاص بك، وتدفقات محادثة متقدمة، ومراجعات أداء منتظمة، وتحديثات مخصصة لضمان توافقه التام مع أهداف عملك' },
            { title: 'WhatsApp Integration', content: 'Seamlessly integrate your AI chatbot with WhatsApp, allowing your customers to interact with your bot directly on the platform they use most. Note: Third-party WhatsApp API costs may apply.', arabicContent: 'ادمج روبوت الدردشة الخاص بك بسلاسة مع واتساب، مما يسمح لعملائك بالتفاعل مع الروبوت مباشرة على المنصة التي يستخدمونها غالبًا. ملاحظة: قد تنطبق تكاليف واجهة برمجة تطبيقات واتساب التابعة لجهات خارجية' },
            { title: 'Performance Report', content: 'Receive a monthly report detailing your chatbot\'s performance, including message volume, common queries, and user satisfaction, helping you understand its impact and identify areas for improvement.', arabicContent: 'احصل على تقرير شهري يوضح أداء روبوت الدردشة الخاص بك، بما في ذلك حجم الرسائل، والاستفسارات الشائعة، ورضا المستخدمين، مما يساعدك على فهم تأثيره وتحديد مجالات التحسين' },
            { title: 'Dedicated Chatbot Manager', content: 'A dedicated manager will oversee your chatbot\'s performance, provide tailored recommendations, and ensure it consistently meets your business objectives.', arabicContent: 'سيشرف مدير مخصص على أداء روبوت الدردشة الخاص بك، ويقدم توصيات مخصصة، ويضمن تلبيته المستمرة لأهداف عملك' },
            // Updated bundle explanations with savings
            { title: 'Pro Insights Pack', content: 'This bundle includes a Performance Report and Branding Removal, offering enhanced insights and a white-label experience. You save 5 OMR/month compared to purchasing these separately.', arabicContent: 'تتضمن هذه الحزمة تقرير الأداء وإزالة العلامة التجارية، مما يوفر رؤى محسّنة وتجربة بيضاء. توفر 5 ريال عماني/شهريًا مقارنةً بشرائها بشكل منفصل' },
            { title: 'Elite Brand & Scale Kit', content: 'This comprehensive bundle provides an additional 1,000 messages, Branding Removal, and a Custom Domain, designed for businesses looking to scale and fully brand their chatbot. You save 13 OMR/month compared to purchasing these separately.', arabicContent: 'توفر هذه الحزمة الشاملة 1,000 رسالة إضافية، وإزالة العلامة التجارية، ونطاقًا مخصصًا، وهي مصممة للشركات التي تتطلع إلى التوسع ووضع علامتها التجارية الكاملة على روبوت الدردشة الخاص بها. توفر 13 ريال عماني/شهريًا مقارنةً بشرائها بشكل منفصل' },
            // New FAQs section
            {
                title: 'FAQs',
                content: `
                    <ul>
                        <li><strong>Q:</strong> What is ChatOman?<br><strong>A:</strong> ChatOman builds custom, bilingual AI chatbots for Omani businesses to answer customer questions 24/7 in Arabic and English.</li>
                        <li><strong>Q:</strong> How does the chatbot work?<br><strong>A:</strong> We train the bot on your FAQs, menus, and service info. When customers type a question, the bot searches that knowledge and replies instantly.</li>
                        <li><strong>Q:</strong> Is the chatbot really bilingual?<br><strong>A:</strong> Yes. Every bot is set up to understand and reply in Arabic (including Omani dialect) and English.</li>
                        <li><strong>Q:</strong> How much does it cost?<br><strong>A:</strong> Plans start at 25 OMR/month (Starter), 45 OMR/month (Pro), and 90 OMR/month (Elite). Yearly billing saves up to 80 OMR.</li>
                        <li><strong>Q:</strong> What is a message credit?<br><strong>A:</strong> One credit = one reply sent by the chatbot. If you receive 1,000 customer questions, that uses 1,000 credits.</li>
                        <li><strong>Q:</strong> Can I upgrade later?<br><strong>A:</strong> Absolutely. You can switch plans or add credits/agents anytime—just email us.</li>
                        <li><strong>Q:</strong> How long does setup take?<br><strong>A:</strong> Usually 2–3 business days after we receive your onboarding form.</li>
                        <li><strong>Q:</strong> Can I update answers later?<br><strong>A:</strong> Yes—send new FAQs or edits, and we’ll retrain the bot (included in all plans).</li>
                        <li><strong>Q:</strong> Does it work on WhatsApp or Instagram?<br><strong>A:</strong> Yes. With our WhatsApp add-on or IG link, customers chat directly in their favorite app.</li>
                        <li><strong>Q:</strong> Can I remove “Powered by Chatbase”?<br><strong>A:</strong> Yes—the Branding Removal add-on hides third-party labels so the bot looks 100 % yours.</li>
                        <li><strong>Q:</strong> What if I run out of credits?<br><strong>A:</strong> You’ll get an email alert. Buy extra credits instantly from the Add-Ons section.</li>
                        <li><strong>Q:</strong> How do I contact support?<br><strong>A:</strong> Email us at info@chatoman.co — we reply within 24 hours.</li>
                    </ul>
                `,
                arabicContent: `
                    <ul>
                        <li><strong>س:</strong> ما هو تشات عُمان؟<br><strong>ج:</strong> تشات عُمان يقدّم روبوتات دردشة ذكية ثنائية اللغة مخصّصة للأعمال العُمانية للرد على استفسارات العملاء على مدار الساعة بالعربية والإنجليزية</li>
                        <li><strong>س:</strong> كيف يعمل روبوت الدردشة؟<br><strong>ج:</strong> نقوم بتدريب الروبوت على الأسئلة الشائعة والقوائم ومعلومات خدماتك. عند طرح العميل سؤالاً، يبحث الروبوت في هذه المعلومات ويجيب فوراً</li>
                        <li><strong>س:</strong> هل الروبوت ثنائي اللغة فعلاً؟<br><strong>ج:</strong> نعم، كل روبوت مهيأ ليفهم ويجيب بالعربية (يشمل اللهجة العُمانية) والإنجليزية</li>
                        <li><strong>س:</strong> كم سعر الخدمة؟<br><strong>ج:</strong> تبدأ الخطط من ٢٥ ريال/شهر (ستارتر)، ٤٥ ريال/شهر (برو)، ٩٠ ريال/شهر (إليت). الدفع السنوي يوفر حتى ٨٠ ريال</li>
                        <li><strong>س:</strong> ما هو رصيد الرسالة؟<br><strong>ج:</strong> رصيد واحد = رد واحد يرسله الروبوت. إذا استقبلت ١٬٠٠٠ سؤال، فهذا يستهلك ١٬٠٠٠ رصيد</li>
                        <li><strong>س:</strong> هل الروبوت ثنائي اللغة فعلاً؟<br><strong>ج:</strong> نعم، كل روبوت مهيأ ليفهم ويجيب بالعربية (يشمل اللهجة العُمانية) والإنجليزية</li>
                        <li><strong>س:</strong> كم يستغرق الإعداد؟<br><strong>ج:</strong> عادةً يومان إلى ثلاثة أيام عمل بعد استلام نموذج الانضمام</li>
                        <li><strong>س:</strong> هل يمكنني تعديل الإجابات لاحقاً؟<br><strong>ج:</strong> نعم، أرسل لنا أي أسئلة جديدة أو تعديلات وسنعيد تدريب الروبوت (مشمول بكل الخطط)</li>
                        <li><strong>س:</strong> هل يعمل على واتساب أو إنستجرام؟<br><strong>ج:</strong> نعم، عبر إضافة واتساب أو رابط إنستجرام يمكن للعملاء المحادثة من تطبيقهم المفضل</li>
                        <li><strong>س:</strong> هل يمكن إزالة عبارة “Powered by Chatbase”؟<br><strong>ج:</strong> نعم، إضافة إزالة العلامة التجارية تخفي شعارات الطرف الثالث ليبدو الروبوت ملكك بالكامل</li>
                        <li><strong>س:</strong> ماذا لو انتهى رصيد الرسائل؟<br><strong>ج:</strong> يصلك تنبيه عبر البريد، ويمكنك شراء أرصدة إضافية فوراً من قسم الإضافات</li>
                        <li><strong>س:</strong> كيف أتواصل مع الدعم؟<br><strong>ج:</strong> راسلنا على info@chatoman.co — نرد خلال ٢٤ ساعة</li>
                    </ul>
                `
            }
        ];

        let selectedPlanId = null;
        let selectedAddOnIds = new Set();
        let isYearly = false; // State for the toggle

        // Modal elements
        const featureModal = document.getElementById('feature-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const modalCloseButton = document.getElementById('modal-close-button');

        function openModal(title, content) {
            modalTitle.textContent = title;
            modalContent.innerHTML = content; // Changed to innerHTML
            featureModal.classList.add('show');
        }

        function closeModal() {
            modalTitle.textContent = ''; // Clear title
            modalContent.innerHTML = ''; // Clear content
            featureModal.classList.remove('show');
        }

        document.addEventListener('DOMContentLoaded', () => {
            const planSelectionContainer = document.getElementById('plan-selection');
            const monthlyToggle = document.getElementById('monthly-toggle');
            const yearlyToggle = document.getElementById('yearly-toggle');
            const toggleSlider = document.getElementById('toggle-slider');

            // Render plans based on current toggle state
            renderPlanCards();
            // Removed renderStatCards() call as the section is removed

            monthlyToggle.addEventListener('click', () => {
                isYearly = false;
                monthlyToggle.classList.add('active');
                yearlyToggle.classList.remove('active');
                toggleSlider.classList.remove('yearly');
                renderPlanCards();
                updateDisplay();
            });

            yearlyToggle.addEventListener('click', () => {
                isYearly = true;
                yearlyToggle.classList.add('active');
                monthlyToggle.classList.remove('active');
                toggleSlider.classList.add('yearly');
                renderPlanCards();
                updateDisplay();
            });

            function renderPlanCards() {
                planSelectionContainer.innerHTML = ''; // Clear existing cards
                plans.forEach(plan => {
                    const price = isYearly ? plan.yearlyPriceOMR : plan.priceOMR;
                    const period = isYearly ? 'year' : 'mo';
                    const arabicPeriod = isYearly ? 'سنويًا' : 'شهريًا';
                    const setupFeeText = isYearly ? (plan.setupFeeAnnual === 0 ? 'Free | مجاني' : `${plan.setupFeeAnnual} OMR`) : `${plan.setupFeeMonthly} OMR`;

                    let planSpecificFeaturesHtml = '';
                    if (plan.id === 'starter') {
                        planSpecificFeaturesHtml += `
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Basic FAQ Support">Basic FAQ Support | <span class="font-tajawal">دعم أساسي للأسئلة الشائعة</span></a>
                            </li>
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Response Updates 2x/month">Response Updates ${plan.responseUpdates} | <span class="font-tajawal">تحديثات الردود ${plan.responseUpdates}</span></a>
                            </li>
                        `;
                    } else if (plan.id === 'pro') {
                        planSpecificFeaturesHtml += `
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Chat Updates Weekly">Chat Updates Weekly | <span class="font-tajawal">تحديثات الدردشة أسبوعيًا</span></a>
                            </li>
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Light Customization, FAQ + Flow">Light Customization, FAQ + Flow | <span class="font-tajawal">تخصيص خفيف، أسئلة شائعة + تدفق</span></a>
                            </li>
                        `;
                    } else if (plan.id === 'elite') {
                        planSpecificFeaturesHtml += `
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Dedicated Chatbot Manager">Dedicated Chatbot Manager | <span class="font-tajawal">مدير روبوت مخصص</span></a>
                            </li>
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Full Personalization">Full Personalization | <span class="font-tajawal">تخصيص كامل</span></a>
                            </li>
                        `;
                    }

                    const isProPlan = plan.id === 'pro';
                    const mostPopularBadge = isProPlan ? `
                        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-teal-600 text-white text-xs font-bold px-3 py-1 rounded-full shadow-lg z-10">
                            Most Popular | الأكثر شيوعًا
                        </div>
                    ` : '';

                    const card = document.createElement('div');
                    card.className = `plan-card bg-white p-6 rounded-2xl shadow-md border-2 border-transparent cursor-pointer relative ${isProPlan ? 'pt-10' : ''}`; // Add relative and padding-top for badge
                    card.dataset.planId = plan.id;
                    card.innerHTML = `
                        ${mostPopularBadge}
                        <h3 class="text-xl font-bold text-teal-700">${plan.name} | ${plan.arabicName}</h3>
                        <div class="text-sm text-stone-600 mb-4">${plan.arabicBestFor}</div>
                        <div class="text-3xl font-bold my-4">${price} <span class="text-lg font-normal text-stone-500">OMR/${period} | ريال عماني/${arabicPeriod}</span></div>
                        ${isYearly ? `<p class="text-sm text-stone-600 mb-2">Save ${plan.yearlySavings} OMR/year | <span class="font-tajawal">وفر ${plan.yearlySavings} ريال عماني/سنويًا</span></p>` : ''}
                        <ul class="space-y-2 text-stone-600 text-left">
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Message Credits">${plan.credits.toLocaleString()} credits/mo | ${plan.credits.toLocaleString()} ${plan.arabicFeatures.credits}/شهريًا</a>
                            </li>
                            <li class="flex items-center">
                                <span class="text-teal-500 mr-2">✔</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="AI Agents">${plan.agents} AI Agent(s) | ${plan.agents} ${plan.arabicFeatures.agents}(وكيل)</a>
                            </li>
                            ${planSpecificFeaturesHtml}
                            <li class="flex items-center">
                                <span class="${plan.brandingRemoved ? 'text-teal-500' : 'text-stone-400'} mr-2">${plan.brandingRemoved ? '✔' : '✖'}</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Branding Removed">Branding Removed | ${plan.arabicFeatures.brandingRemoved}</a>
                            </li>
                            <li class="flex items-center">
                                <span class="${plan.customDomain ? 'text-teal-500' : 'text-stone-400'} mr-2">${plan.customDomain ? '✔' : '✖'}</span> 
                                <a href="#" class="feature-link text-teal-600 hover:underline" data-feature-title="Custom Domain">Custom Domain | ${plan.arabicFeatures.customDomain}</a>
                            </li>
                            <li class="text-sm text-stone-600 mt-2">Setup Fee: ${setupFeeText}</li>
                        </ul>
                        <button class="plan-cta w-full bg-teal-600 text-white font-bold py-3 px-4 rounded-lg mt-6 hover:bg-teal-700 transition-colors">
                            Start Now | ابدأ الآن
                        </button>
                    `;
                    card.addEventListener('click', () => handlePlanSelection(plan.id));
                    planSelectionContainer.appendChild(card);
                });

                // Add event listeners to the new CTA buttons
                document.querySelectorAll('.plan-cta').forEach(button => {
                    button.addEventListener('click', () => {
                        if (!googleFormURL) { 
                            console.error("Google Form URL is not set. Please provide a valid Google Form URL.");
                            return;
                        }
                        window.open(googleFormURL, '_blank');
                    });
                });

                // Add event listeners for feature links in plan cards
                document.querySelectorAll('.plan-card .feature-link').forEach(link => {
                    link.addEventListener('click', (event) => {
                        event.preventDefault();
                        const featureTitle = event.target.dataset.featureTitle;
                        const explanation = featureExplanations.find(f => f.title === featureTitle);
                        if (explanation) {
                            // Pass content with HTML tags for proper rendering
                            openModal(explanation.title, explanation.content + '<br><br><span class="font-tajawal">' + explanation.arabicContent + '</span>');
                        }
                    });
                });
            }

            const addonsSelectionContainer = document.getElementById('addons-selection');
            addOns.forEach(addOn => {
                const addOnElement = document.createElement('label');
                addOnElement.className = 'flex items-center justify-between bg-stone-100 p-3 rounded-lg';
                addOnElement.innerHTML = `
                    <div>
                        <a href="#features" class="addon-feature-link text-stone-700 hover:underline">
                            <span class="font-semibold">${addOn.name} | ${addOn.arabicName}</span>
                        </a>
                        <div class="text-sm text-stone-500">+${addOn.priceOMR} OMR/mo</div>
                    </div>
                    <input type="checkbox" data-addon-id="${addOn.id}" class="h-5 w-5 rounded text-teal-600 focus:ring-teal-500 border-stone-300">
                `;
                addOnElement.querySelector('input').addEventListener('change', (e) => handleAddOnSelection(addOn.id, e.target.checked));
                addonsSelectionContainer.appendChild(addOnElement);
            });

            // Add event listeners for feature links in add-ons
            document.querySelectorAll('.addon-feature-link').forEach(link => {
                link.addEventListener('click', (event) => {
                    event.preventDefault(); // Prevent default anchor behavior
                    const targetId = event.target.getAttribute('href'); // Get href attribute
                    const targetSection = document.querySelector(targetId);
                    if (targetSection) {
                        targetSection.scrollIntoView({ behavior: 'smooth' }); // Scroll to view
                    }
                });
            });
            
            const accordionContainer = document.getElementById('accordion-container');
            featureExplanations.forEach((item, index) => {
                const accordionItem = document.createElement('div');
                accordionItem.className = 'bg-white rounded-xl shadow-sm';
                accordionItem.innerHTML = `
                    <button class="accordion-toggle flex justify-between items-center w-full p-5 font-semibold text-left">
                        <span>${item.title}</span>
                        <span class="transform transition-transform duration-300">▼</span>
                    </button>
                    <div class="accordion-content px-5 pb-5 text-stone-600">
                        <p>${item.content}</p>
                        <p class="font-tajawal mt-2">${item.arabicContent}</p>
                    </div>
                `;
                const toggle = accordionItem.querySelector('.accordion-toggle');
                const content = accordionItem.querySelector('.accordion-content');
                const arrow = accordionItem.querySelector('span:last-child');
                
                toggle.addEventListener('click', () => {
                    const isOpen = content.style.maxHeight;
                    if (isOpen && isOpen !== '0px') {
                        content.style.maxHeight = '0px';
                        arrow.style.transform = 'rotate(0deg)';
                    } else {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        arrow.style.transform = 'rotate(180deg)';
                    }
                });

                accordionContainer.appendChild(accordionItem);
            });

            // Close modal events
            modalCloseButton.addEventListener('click', closeModal);
            featureModal.addEventListener('click', (event) => {
                if (event.target === featureModal) { // Close only if clicking on the overlay, not the content
                    closeModal();
                }
            });

            updateDisplay();
            // Removed renderStatCards() call as the section is removed
            
            // Google Form URL
            const googleFormURL = "https://docs.google.com/forms/d/e/1FAIpQLSdH72A9D2bouVJwVk09PEQrVM4B15pW4kcoN3gB6scBCEQ6LA/viewform?usp=header"; 

            // LLM Feature Logic
            const businessTypeInput = document.getElementById('business-type-input');
            const generateFaqBtn = document.getElementById('generate-faq-btn');
            const faqLoadingIndicator = document.getElementById('faq-loading-indicator');
            const generatedFaqsDiv = document.getElementById('generated-faqs');

            generateFaqBtn.addEventListener('click', async () => {
                const businessType = businessTypeInput.value.trim();
                if (!businessType) {
                    generatedFaqsDiv.textContent = "Please enter a business type to generate FAQs.";
                    return;
                }

                faqLoadingIndicator.classList.remove('hidden');
                generatedFaqsDiv.textContent = ""; // Clear previous FAQs

                const prompt = `Generate a list of 8-10 common Frequently Asked Questions (FAQs) for a business that is a ${businessType}. Format them as a numbered list with a question followed by a short, concise answer.`;
                
                let chatHistory = [];
                chatHistory.push({ role: "user", parts: [{ text: prompt }] });

                const payload = { contents: chatHistory };
                const apiKey = "";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        generatedFaqsDiv.textContent = text;
                    } else {
                        generatedFaqsDiv.textContent = "Could not generate FAQs. Please try again or refine your business type.";
                    }
                } catch (error) {
                    console.error("Error generating FAQs:", error);
                    generatedFaqsDiv.textContent = "An error occurred while generating FAQs. Please try again.";
                } finally {
                    faqLoadingIndicator.classList.add('hidden');
                }
            });

            // Link "Get Started" buttons to Google Form
            document.getElementById('get-started-btn-static').addEventListener('click', () => {
                if (!googleFormURL) { 
                    console.error("Google Form URL is not set. Please provide a valid Google Form URL.");
                    return;
                }
                window.open(googleFormURL, '_blank');
            });

            document.getElementById('sticky-get-started').addEventListener('click', () => {
                if (!googleFormURL) { 
                    console.error("Google Form URL is not set. Please provide a valid Google Form URL.");
                    return;
                }
                window.open(googleFormURL, '_blank');
            });

            // Link "Get Started" button under "How It Works" to Google Form
            document.getElementById('how-it-works-get-started-btn').addEventListener('click', () => {
                if (!googleFormURL) { 
                    console.error("Google Form URL is not set. Please provide a valid Google Form URL.");
                    return;
                }
                window.open(googleFormURL, '_blank');
            });

            // Link "See How It Works" button to "How It Works" section
            document.getElementById('hero-get-started-btn').addEventListener('click', (event) => {
                event.preventDefault(); // Prevent default anchor behavior
                const howItWorksSection = document.getElementById('how-it-works');
                if (howItWorksSection) {
                    howItWorksSection.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });

        function handlePlanSelection(planId) {
            selectedPlanId = planId;
            document.querySelectorAll('.plan-card').forEach(card => {
                card.classList.toggle('selected', card.dataset.planId === planId);
            });
            updateDisplay();
        }

        function handleAddOnSelection(addOnId, isSelected) {
            if (isSelected) {
                selectedAddOnIds.add(addOnId);
            } else {
                selectedAddOnIds.delete(addOnId);
            }
            updateDisplay();
        }

        function updateDisplay() {
            let total = 0;
            let setupFee = 0;
            if (selectedPlanId) {
                const plan = plans.find(p => p.id === selectedPlanId);
                total += isYearly ? plan.yearlyPriceOMR : plan.priceOMR;
                setupFee = isYearly ? plan.setupFeeAnnual : plan.setupFeeMonthly; 
            }

            selectedAddOnIds.forEach(addOnId => {
                const addOn = addOns.find(a => a.id === addOnId);
                // Add-on prices are currently only monthly, assuming they don't change with yearly plan selection.
                // If add-ons also have yearly prices, this logic would need to be updated.
                total += addOn.priceOMR; 
            });

            document.getElementById('total-price-display').textContent = `${total} OMR`;
            document.getElementById('setup-fee-display').textContent = `${setupFee} OMR`;
            
            // Update the "Monthly Total" label based on the toggle state
            const totalLabel = document.querySelector('#total-price-display').previousElementSibling;
            if (isYearly) {
                totalLabel.textContent = 'Yearly Total: | الإجمالي السنوي:';
            } else {
                totalLabel.textContent = 'Monthly Total: | الإجمالي الشهري:';
            }
        }
        
        // Removed drawDoughnutChart and renderStatCards functions as the section is removed
    </script>
    <!-- Chatbase chatbot integration script -->
    <script>
        (function(){if(!window.chatbase||window.chatbase("getState")!=="initialized"){window.chatbase=(...arguments)=>{if(!window.chatbase.q){window.chatbase.q=[]}window.chatbase.q.push(arguments)};window.chatbase=new Proxy(window.chatbase,{get(target,prop){if(prop==="q"){return target.q}return(...args)=>target(prop,...args)}})}const onLoad=function(){const script=document.createElement("script");script.src="https://www.chatbase.co/embed.min.js";script.id="Qnz7C2BIzWuvbfBOx_maY";script.domain="www.chatbase.co";document.body.appendChild(script)};if(document.readyState==="complete"){onLoad()}else{window.addEventListener("load",onLoad)}})();
    </script>
</body>
</html>
